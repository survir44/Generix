<html>
    <head>
        <title>Change Password</title>
        <link rel="stylesheet" href="Assets/Css/password.css">
    </head>
    <body>
        <br><br>
        <div class="center">
            <div>
                <h3>Change Password</h3><hr>
                <p>Current Password *</p>
                <input type="password" id="current" style="width: 75%;"/>
                <p>New Password *</p>
                <input type="password" id="pass" style="width: 75%;"/>
                <p>Confirm Password *</p>
                <input type="password" id="confirm" style="width: 75%;"/>
                <br><br><br>
                <button  onclick="submit()">Submit</button>
            </div>
        </div>
    </body>
    <script>
        function submit(){
            var current=document.getElementById('current').value;
            var pass=document.getElementById('pass').value;
            var confirm=document.getElementById('confirm').value;
            if(pass!=confirm){
                alert("Password Does not match");
            }
            else{
                var message;
                var xhr=new XMLHttpRequest();
                url='http://localhost:8080/password';
                xhr.open('POST',url);
                xhr.setRequestHeader('Content-Type','application/json')
                xhr.send(JSON.stringify({"user":"100rabh_yadav98","current":current,"confirm":confirm}));
                xhr.onload=function(){
                    if(this.status==200){
                        alert("Password Succesfully Changed");
                        window.location.href="dashboard.html";
                    }
                    else if(this.status==400){
                        alert("Oops Some Error Occured");
                    }
                    else{
                        alert("Invalid Request");
                    }
                };
            }

        }
    </script>

</html>
